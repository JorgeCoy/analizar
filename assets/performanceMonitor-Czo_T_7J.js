import{_ as a,l as s}from"./index-BRXbbdqT.js";import"./ui-vendor-DDe9ALYy.js";import"./react-vendor-CcRn9s_c.js";class c{constructor(){this.metrics={},this.init()}init(){typeof window<"u"&&(window.location.hostname==="localhost"||window.location.search.includes("debug=perf"))&&a(async()=>{const{onCLS:e,onFID:o,onFCP:r,onLCP:i,onTTFB:n}=await import("./web-vitals-yg0KTnsI.js");return{onCLS:e,onFID:o,onFCP:r,onLCP:i,onTTFB:n}},[]).then(({onCLS:e,onFID:o,onFCP:r,onLCP:i,onTTFB:n})=>{this.startMonitoring(e,o,r,i,n)}).catch(()=>{this.startBasicMonitoring()})}startMonitoring(e,o,r,i,n){i(t=>{this.metrics.LCP=t,s.log("ðŸ–¼ï¸ LCP:",t.value.toFixed(2)+"ms",this.getLCPScore(t.value))}),o(t=>{this.metrics.FID=t,s.log("ðŸ‘† FID:",t.value.toFixed(2)+"ms",this.getFIDScore(t.value))}),e(t=>{this.metrics.CLS=t,s.log("ðŸ“ CLS:",t.value.toFixed(4),this.getCLSScore(t.value))}),r(t=>{this.metrics.FCP=t,s.log("ðŸŽ¨ FCP:",t.value.toFixed(2)+"ms",this.getFCPScore(t.value))}),n(t=>{this.metrics.TTFB=t,s.log("âš¡ TTFB:",t.value.toFixed(2)+"ms",this.getTTFBScore(t.value))}),this.measureBundleLoading(),this.monitorMemoryUsage()}startBasicMonitoring(){this.measureBundleLoading(),this.monitorMemoryUsage(),window.performance&&window.performance.timing&&window.performance.timing.loadEventEnd-window.performance.timing.navigationStart}getLCPScore(e){return e<=2500?"ðŸŸ¢ Bueno":e<=4e3?"ðŸŸ¡ Necesita mejorar":"ðŸ”´ Malo"}getFIDScore(e){return e<=100?"ðŸŸ¢ Bueno":e<=300?"ðŸŸ¡ Necesita mejorar":"ðŸ”´ Malo"}getCLSScore(e){return e<=.1?"ðŸŸ¢ Bueno":e<=.25?"ðŸŸ¡ Necesita mejorar":"ðŸ”´ Malo"}getFCPScore(e){return e<=1800?"ðŸŸ¢ Bueno":e<=3e3?"ðŸŸ¡ Necesita mejorar":"ðŸ”´ Malo"}getTTFBScore(e){return e<=800?"ðŸŸ¢ Bueno":e<=1800?"ðŸŸ¡ Necesita mejorar":"ðŸ”´ Malo"}measureBundleLoading(){const e=new PerformanceObserver(o=>{o.getEntries().forEach(i=>{i.name.includes(".js")&&i.transferSize>0&&s.log("ðŸ“¦ Bundle cargado:",i.name.split("/").pop(),"TamaÃ±o:",(i.transferSize/1024).toFixed(1)+"KB","Tiempo:",i.duration.toFixed(2)+"ms")})});e.observe({entryTypes:["resource"]}),setTimeout(()=>e.disconnect(),1e4)}monitorMemoryUsage(){"memory"in performance&&setInterval(()=>{const e=performance.memory;s.log("ðŸ§  Memoria:",{used:(e.usedJSHeapSize/1024/1024).toFixed(1)+"MB",total:(e.totalJSHeapSize/1024/1024).toFixed(1)+"MB",limit:(e.jsHeapSizeLimit/1024/1024).toFixed(1)+"MB"})},5e3)}getMetrics(){return this.metrics}generateReport(){const e=[];return Object.keys(this.metrics).forEach(o=>{const r=this.metrics[o];e.push(`${o}: ${r.value.toFixed(2)}`)}),this.metrics.LCP&&(this.metrics.LCP.value<=2500||this.metrics.LCP.value<=4e3),this.metrics.FID&&(this.metrics.FID.value<=100||this.metrics.FID.value<=300),this.metrics.CLS&&(this.metrics.CLS.value<=.1||this.metrics.CLS.value<=.25),this.metrics}}const h=new c;export{h as default};
